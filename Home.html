<html>
    <head>
        <link rel="stylesheet" href="home.css">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <style>
          /* Responsive base font - t·ª± ƒë·ªông ph√≥ng to tr√™n ƒëi·ªán tho·∫°i */
          html { font-size: 16px; }

          /* Reset m·∫∑c ƒë·ªãnh + safe-area nh∆∞ng d√πng fallback 0 ƒë·ªÉ kh√¥ng sinh kho·∫£ng th·ª´a khi kh√¥ng c·∫ßn */
          body {
            margin: 0;
            padding: 0;
            /* safe-area cho iOS, fallback 0 */
            padding-top: env(safe-area-inset-top, 0);
            font-size: clamp(16px, 4vw, 20px); /* 16‚Äì20px theo k√≠ch th∆∞·ªõc m√†n h√¨nh */
            display: flex;
            align-items: flex-end; /* gi·ªØ hoa ·ªü g·∫ßn ƒë√°y m√†n h√¨nh */
            justify-content: center;
            min-height: 100vh;
            overflow: hidden;
          }

          /* TƒÉng k√≠ch th∆∞·ªõc hoa (b·ªè scale nh·ªè), k√©o l√™n b·∫±ng margin-top √¢m */
          .flowers {
            margin-top: -6vmin; /* k√©o l√™n ƒë·ªÉ lo·∫°i kho·∫£ng th·ª´a ph√≠a tr√™n */
            position: relative;
            top: 0;
            transform: scale(1) translateZ(0); /* scale 1 ƒë·ªÉ hoa kh√¥ng nh·ªè */
            transition: transform 240ms ease, margin-top 240ms ease;
          }

          /* N·∫øu v·∫´n c·∫ßn ch·ªânh th√™m cho m√†n h√¨nh nh·ªè */
          @media (max-width: 480px) {
            .flowers {
              margin-top: -10vmin; /* nhi·ªÅu h∆°n tr√™n m√†n nh·ªè n·∫øu v·∫´n th·∫•y kho·∫£ng */
              transform: scale(1.02); /* h∆°i ph√≥ng to tr√™n ƒëi·ªán tho·∫°i */
            }
            /* gi·∫£m kho·∫£ng bottom c·ªßa th√¢n hoa ƒë·ªÉ ph·∫ßn ƒë·∫ßu l√™n cao h∆°n */
            .flower { bottom: 6vmin !important; }
            .flower__line { height: 48vmin !important; } /* thu nh·ªè chi·ªÅu cao th√¢n tr√™n m√†n nh·ªè */
          }

          /* Overlay l·ªùi ch√∫c */
          .greeting-overlay {
            position: fixed;
            inset: 0;
            display: none;
            align-items: center;
            justify-content: center;
            background: rgba(0,0,0,0.45);
            z-index: 40;
            padding: 20px;
          }
          .greeting-overlay.active { display: flex; }

          /* greeting box + button m√†u h·ªìng */
          .greeting-box {
            background: #fff0f7;
            color: #9b0d5a;
            max-width: 420px;
            width: 100%;
            padding: 24px;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(214,51,132,0.12);
            text-align: center;
            font-size: 1rem;
          }

          .greeting-box h2 { margin: 0 0 12px; color: #d63384; }
          .greeting-box p { margin: 0 0 18px; color: #5b2230; }

          .greeting-close {
            background: linear-gradient(90deg,#ff7fb3,#d63384);
            color: #fff;
            border: none;
            padding: 10px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            box-shadow: 0 6px 16px rgba(214,51,132,0.12);
          }

          /* rotate overlay */
          .rotate-overlay {
            position: fixed;
            inset: 0;
            display: none;
            align-items: center;
            justify-content: center;
            background: rgba(0,0,0,0.75);
            color: #fff;
            z-index: 9999;
            text-align: center;
            padding: 20px;
          }
          .rotate-overlay.active { display: flex; }
          .rotate-box {
            max-width: 420px;
            width: 100%;
            background: rgba(0,0,0,0.6);
            padding: 18px;
            border-radius: 10px;
            backdrop-filter: blur(6px);
          }
          .rotate-box p { margin: 0 0 12px; font-size: 1.05rem; }
          .rotate-box button {
            background: #fff;
            color: #000;
            border: none;
            padding: 10px 14px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
          }
          @media (orientation: landscape) {
            /* overlay v·∫´n hi·ªÉn th·ªã tr√™n ngang ƒë·ªÉ g·ª£i √Ω b·∫≠t fullscreen */
            /* (b·ªè ·∫©n m·∫∑c ƒë·ªãnh) */
          }

          /* Envelope (th∆∞ nh·ªè) ‚Äî m√†u t·ªëi h∆°n ƒë·ªÉ d·ªÖ nh√¨n h∆°n */
          .envelope {
            position: absolute;
            right: 5vmin;
            bottom: 20vmin;
            width: 11vmin;
            height: 8.8vmin;
            /* n·ªÅn h·ªìng nh·∫π nh∆∞ng c√≥ ƒë·ªô t∆∞∆°ng ph·∫£n h∆°n */
            background: linear-gradient(180deg,#ffe6f2 0,#fff 60%);
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(182,23,84,0.20);
            border: 1px solid rgba(182,23,84,0.18);
            display: block;
            z-index: 50;
            cursor: pointer;
            padding: 0;
            perspective: 520px;
            overflow: visible;
          }
          .envelope:focus { outline: 3px solid rgba(182,23,84,0.22); }

          /* n·∫Øp phong th∆∞ (flap) */
          .envelope .flap {
            position: absolute;
            top: -3px;
            left: 4%;
            width: 92%;
            height: 62%;
            /* flap d·ªãu, √≠t b√£o h√≤a ƒë·ªÉ ch·ªØ n·ªïi h∆°n */
            background: linear-gradient(135deg,#ffb6d6 0,#fff3f9 60%);
            clip-path: polygon(50% 0, 100% 100%, 0 100%);
            transform-origin: top center;
            transform: rotateX(0deg);
            transition: transform 360ms cubic-bezier(.2,.9,.2,1), box-shadow 200ms;
            box-shadow: 0 8px 18px rgba(182,23,84,0.16);
            z-index: 30;
            pointer-events: none;
          }

          /* t·ªù gi·∫•y b√™n trong (letter) */
          .envelope .paper {
            position: absolute;
            left: 7%;
            right: 7%;
            bottom: 6%;
            height: 66%;
            /* gi·∫•y s√°ng tr·∫Øng gi√∫p ch·ªØ hi·ªÉn th·ªã t·ªët */
            background: linear-gradient(180deg,#fff,#fffefc);
            border-radius: 5px;
            box-shadow: 0 12px 28px rgba(182,23,84,0.10);
            transform: translateY(18%);
            transition: transform 380ms cubic-bezier(.2,.9,.2,1);
            z-index: 20;
            overflow: hidden;
            padding: 9% 9%;
            box-sizing: border-box;
          }

          /* khi m·ªü: flap n√¢ng l√™n v√† gi·∫•y tr·ªìi l√™n (gi·ªØ h·ªìng) */
          .envelope.open .flap {
            transform: rotateX(-160deg) translateY(-8%);
            box-shadow: 0 22px 40px rgba(182,23,84,0.20);
          }
          .envelope.open .paper {
            transform: translateY(-52%);
          }

          /* ƒë∆∞·ªùng k·∫ª m√¥ ph·ªèng n·ªôi dung th∆∞ ‚Äî ƒë·∫≠m h∆°n ƒë·ªÉ hi·ªán r√µ */
          .paper .lines { position: relative; height: 100%; }
          .paper .line {
            height: 0.28rem;
            background: linear-gradient(90deg, rgba(0,0,0,0.12), rgba(0,0,0,0.08));
            margin-bottom: 6px;
            border-radius: 2px;
            width: 100%;
            opacity: 0.98;
          }
          .paper .line.short { width: 70%; }

          /* con tem ‚Äî ƒë·∫≠m, ch·ªØ/tr√°i tim tr·∫Øng */
          .paper .stamp {
            position: absolute;
            top: 8%;
            right: 8%;
            width: 2.4vmin;
            height: 2.4vmin;
            border-radius: 50%;
            background: radial-gradient(circle at 35% 30%, #ffd4e6, #e61f7a 60%);
            box-shadow: inset 0 -2px 4px rgba(0,0,0,0.06), 0 3px 8px rgba(182,23,84,0.16);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2vmin;
            color: #fff;
            z-index: 25;
          }

          /* greeting box + button: n·ªÅn tr·∫Øng ch·ªØ t·ªëi, n√∫t h·ªìng ƒë·∫≠m */
          .greeting-box {
            background: #ffffff;
            color: #4a1228;
            max-width: 420px;
            width: 100%;
            padding: 22px;
            border-radius: 12px;
            box-shadow: 0 14px 36px rgba(182,23,84,0.14);
            text-align: center;
            font-size: 1rem;
            border: 1px solid rgba(182,23,84,0.06);
          }

          .greeting-box h2 { margin: 0 0 10px; color: #b71c58; }
          .greeting-box p { margin: 0 0 16px; color: #3b1620; }

          .greeting-close {
            background: linear-gradient(90deg,#d81b60,#b71c58);
            color: #fff;
            border: none;
            padding: 10px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 700;
            box-shadow: 0 8px 20px rgba(182,23,84,0.12);
          }

          @media (max-width: 480px) {
            .envelope { right: 3vmin; bottom: 16vmin; width: 16vmin; height: 12vmin; }
            .paper .stamp { width: 3.4vmin; height: 3.4vmin; font-size: 1.6vmin; }
            .greeting-box { padding: 14px; }
          }

          /* th√™m styles cho n√∫t nh·∫°c + ·∫©n player YouTube */
          .music-btn {
            position: absolute;
            right: 5vmin;
            bottom: 31vmin;
            width: 3.6vmin;
            height: 3.6vmin;
            border-radius: 50%;
            border: none;
            background: linear-gradient(90deg,#ff7fb3,#d63384);
            color: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2vmin;
            box-shadow: 0 6px 18px rgba(182,23,84,0.18);
            cursor: pointer;
            z-index: 60;
          }
          .music-btn[aria-pressed="true"] { box-shadow: 0 10px 26px rgba(182,23,84,0.24); transform: translateY(-2px); }

          /* ·∫©n iframe player (ch·∫°y √¢m thanh nh∆∞ng kh√¥ng hi·ªÉn th·ªã video) */
          #ytPlayer { position: absolute; width: 0; height: 0; overflow: hidden; pointer-events: none; }
@media (max-width:480px) {
            .music-btn { right: 3vmin; bottom: 26vmin; width: 5vmin; height: 5vmin; font-size: 2vmin; }
          }
          /* "made by" badge ·ªü g√≥c d∆∞·ªõi b√™n tr√°i */
          .made-by {
            position: fixed;
            left: env(safe-area-inset-left, 12px);
            bottom: env(safe-area-inset-bottom, 8px);
            background: rgba(0,0,0,0.48);
            color: #fff;
            padding: 6px 10px;
            border-radius: 8px;
            font-size: 0.85rem;
            z-index: 120;
            pointer-events: none; /* kh√¥ng ch·∫∑n t∆∞∆°ng t√°c */
            backdrop-filter: blur(4px);
            box-shadow: 0 6px 18px rgba(0,0,0,0.28);
          }
        </style>
    </head>  
    
    <body class="not-loaded">
        <!-- Overlay l·ªùi ch√∫c -->
        <div class="greeting-overlay" id="greetingOverlay" role="dialog" aria-hidden="true">
          <div class="greeting-box" role="document">
            <h2>Ch√∫c m·ª´ng 20/10!</h2>
            <p>Ch√∫c b·∫°n lu√¥n vui v·∫ª, h·ªçc gi·ªèi, xinh ƒë·∫πp, ƒÉn mau ch√≥ng l·ªõn v√† g·∫∑p th·∫≠t nhi·ªÅu ƒëi·ªÅu may m·∫Øn trong cu·ªôc s·ªëng.</p>
            <p> k√≠ t√™n: M·∫•y th·∫±ng ƒë·ª±c r·ª±a</p>
            <button class="greeting-close" id="greetingClose">ƒê√≥ng</button>
          </div>
        </div>

        <!-- rotate prompt -->
        <div class="rotate-overlay" id="rotateOverlay" aria-hidden="true">
          <div class="rotate-box" role="dialog" aria-labelledby="rotateTitle">
            <p id="rotateTitle">B·∫°n ƒëang xoay ngang ‚Äî mu·ªën v√†o ch·∫ø ƒë·ªô to√†n m√†n h√¨nh?</p>
            <div style="display:flex;gap:10px;justify-content:center">
              <button id="rotateFullscreenBtn">B·∫≠t fullscreen</button>
              <button id="rotateDismissBtn">ƒê√≥ng</button>
            </div>
          </div>
        </div>

        <div class="night"></div>
        <div class="flowers">
          <div class="flower flower--1">
            <div class="flower__leafs flower__leafs--1">
              <div class="flower__leaf flower__leaf--1"></div>
              <div class="flower__leaf flower__leaf--2"></div>
              <div class="flower__leaf flower__leaf--3"></div>
              <div class="flower__leaf flower__leaf--4"></div>
              

              <div class="flower__white-circle"></div>
      
              <div class="flower__light flower__light--1"></div>
              <div class="flower__light flower__light--2"></div>
              <div class="flower__light flower__light--3"></div>
              <div class="flower__light flower__light--4"></div>
              <div class="flower__light flower__light--5"></div>
              <div class="flower__light flower__light--6"></div>
              <div class="flower__light flower__light--7"></div>
              <div class="flower__light flower__light--8"></div>
      
            </div>
            <div class="flower__line">
              <div class="flower__line__leaf flower__line__leaf--1"></div>
              <div class="flower__line__leaf flower__line__leaf--2"></div>
              <div class="flower__line__leaf flower__line__leaf--3"></div>
              <div class="flower__line__leaf flower__line__leaf--4"></div>
              <div class="flower__line__leaf flower__line__leaf--5"></div>
              <div class="flower__line__leaf flower__line__leaf--6"></div>
            </div>
          </div>
      
          <div class="flower flower--2">
            <div class="flower__leafs flower__leafs--2">
              <div class="flower__leaf flower__leaf--1"></div>
              <div class="flower__leaf flower__leaf--2"></div>
              <div class="flower__leaf flower__leaf--3"></div>
              <div class="flower__leaf flower__leaf--4"></div>
              <div class="flower__white-circle"></div>
      
              <div class="flower__light flower__light--1"></div>
              <div class="flower__light flower__light--2"></div>
              <div class="flower__light flower__light--3"></div>
              <div class="flower__light flower__light--4"></div>
              <div class="flower__light flower__light--5"></div>
              <div class="flower__light flower__light--6"></div>
              <div class="flower__light flower__light--7"></div>
              <div class="flower__light flower__light--8"></div>
      
            </div>
            <div class="flower__line">
              <div class="flower__line__leaf flower__line__leaf--1"></div>
              <div class="flower__line__leaf flower__line__leaf--2"></div>
              <div class="flower__line__leaf flower__line__leaf--3"></div>
              <div class="flower__line__leaf flower__line__leaf--4"></div>
            </div>
          </div>
      
          <div class="flower flower--3">
            <div class="flower__leafs flower__leafs--3">
              <div class="flower__leaf flower__leaf--1"></div>
              <div class="flower__leaf flower__leaf--2"></div>
              <div class="flower__leaf flower__leaf--3"></div>
              <div class="flower__leaf flower__leaf--4"></div>
              <div class="flower__white-circle"></div>
      
              <div class="flower__light flower__light--1"></div>
              <div class="flower__light flower__light--2"></div>
              <div class="flower__light flower__light--3"></div>
              <div class="flower__light flower__light--4"></div>
              <div class="flower__light flower__light--5"></div>
              <div class="flower__light flower__light--6"></div>
              <div class="flower__light flower__light--7"></div>
              <div class="flower__light flower__light--8"></div>
      
            </div>
            <div class="flower__line">
              <div class="flower__line__leaf flower__line__leaf--1"></div>
              <div class="flower__line__leaf flower__line__leaf--2"></div>
              <div class="flower__line__leaf flower__line__leaf--3"></div>
              <div class="flower__line__leaf flower__line__leaf--4"></div>
            </div>
          </div>
      
          <div class="grow-ans" style="--d:1.2s">
            <div class="flower__g-long">
              <div class="flower__g-long__top"></div>
              <div class="flower__g-long__bottom"></div>
            </div>
          </div>
      
          <div class="growing-grass">
            <div class="flower__grass flower__grass--1">
              <div class="flower__grass--top"></div>
              <div class="flower__grass--bottom"></div>
              <div class="flower__grass__leaf flower__grass__leaf--1"></div>
              <div class="flower__grass__leaf flower__grass__leaf--2"></div>
              <div class="flower__grass__leaf flower__grass__leaf--3"></div>
              <div class="flower__grass__leaf flower__grass__leaf--4"></div>
              <div class="flower__grass__leaf flower__grass__leaf--5"></div>
              <div class="flower__grass__leaf flower__grass__leaf--6"></div>
              <div class="flower__grass__leaf flower__grass__leaf--7"></div>
              <div class="flower__grass__leaf flower__grass__leaf--8"></div>
              <div class="flower__grass__overlay"></div>
            </div>
          </div>
      
          <div class="growing-grass">
            <div class="flower__grass flower__grass--2">
              <div class="flower__grass--top"></div>
              <div class="flower__grass--bottom"></div>
              <div class="flower__grass__leaf flower__grass__leaf--1"></div>
              <div class="flower__grass__leaf flower__grass__leaf--2"></div>
              <div class="flower__grass__leaf flower__grass__leaf--3"></div>
              <div class="flower__grass__leaf flower__grass__leaf--4"></div>
              <div class="flower__grass__leaf flower__grass__leaf--5"></div>
              <div class="flower__grass__leaf flower__grass__leaf--6"></div>
              <div class="flower__grass__leaf flower__grass__leaf--7"></div>
              <div class="flower__grass__leaf flower__grass__leaf--8"></div>
              <div class="flower__grass__overlay"></div>
            </div>
          </div>
      
          <div class="grow-ans" style="--d:2.4s">
            <div class="flower__g-right flower__g-right--1">
              <div class="leaf"></div>
            </div>
          </div>
      
          <div class="grow-ans" style="--d:2.8s">
            <div class="flower__g-right flower__g-right--2">
              <div class="leaf"></div>
            </div>
          </div>
      
          <div class="grow-ans" style="--d:2.8s">
            <div class="flower__g-front">
              <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--1">
                <div class="flower__g-front__leaf"></div>
              </div>
              <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--2">
                <div class="flower__g-front__leaf"></div>
              </div>
              <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--3">
                <div class="flower__g-front__leaf"></div>
              </div>
              <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--4">
                <div class="flower__g-front__leaf"></div>
              </div>
              <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--5">
                <div class="flower__g-front__leaf"></div>
              </div>
              <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--6">
                <div class="flower__g-front__leaf"></div>
              </div>
              <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--7">
                <div class="flower__g-front__leaf"></div>
              </div>
              <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--8">
                <div class="flower__g-front__leaf"></div>
              </div>
              <div class="flower__g-front__line"></div>
            </div>
          </div>
      
          <div class="grow-ans" style="--d:3.2s">
            <div class="flower__g-fr">
              <div class="leaf"></div>
              <div class="flower__g-fr__leaf flower__g-fr__leaf--1"></div>
              <div class="flower__g-fr__leaf flower__g-fr__leaf--2"></div>
              <div class="flower__g-fr__leaf flower__g-fr__leaf--3"></div>
              <div class="flower__g-fr__leaf flower__g-fr__leaf--4"></div>
              <div class="flower__g-fr__leaf flower__g-fr__leaf--5"></div>
              <div class="flower__g-fr__leaf flower__g-fr__leaf--6"></div>
              <div class="flower__g-fr__leaf flower__g-fr__leaf--7"></div>
              <div class="flower__g-fr__leaf flower__g-fr__leaf--8"></div>
            </div>
          </div>
      
          <div class="long-g long-g--0">
            <div class="grow-ans" style="--d:3s">
              <div class="leaf leaf--0"></div>
            </div>
            <div class="grow-ans" style="--d:2.2s">
              <div class="leaf leaf--1"></div>
            </div>
            <div class="grow-ans" style="--d:3.4s">
              <div class="leaf leaf--2"></div>
            </div>
            <div class="grow-ans" style="--d:3.6s">
              <div class="leaf leaf--3"></div>
            </div>
          </div>
      
          <div class="long-g long-g--1">
            <div class="grow-ans" style="--d:3.6s">
              <div class="leaf leaf--0"></div>
            </div>
            <div class="grow-ans" style="--d:3.8s">
              <div class="leaf leaf--1"></div>
            </div>
            <div class="grow-ans" style="--d:4s">
              <div class="leaf leaf--2"></div>
            </div>
            <div class="grow-ans" style="--d:4.2s">
              <div class="leaf leaf--3"></div>
            </div>
          </div>
      
          <div class="long-g long-g--2">
            <div class="grow-ans" style="--d:4s">
              <div class="leaf leaf--0"></div>
            </div>
            <div class="grow-ans" style="--d:4.2s">
              <div class="leaf leaf--1"></div>
            </div>
            <div class="grow-ans" style="--d:4.4s">
              <div class="leaf leaf--2"></div>
            </div>
            <div class="grow-ans" style="--d:4.6s">
              <div class="leaf leaf--3"></div>
            </div>
          </div>
      
          <div class="long-g long-g--3">
            <div class="grow-ans" style="--d:4s">
              <div class="leaf leaf--0"></div>
            </div>
            <div class="grow-ans" style="--d:4.2s">
              <div class="leaf leaf--1"></div>
            </div>
            <div class="grow-ans" style="--d:3s">
              <div class="leaf leaf--2"></div>
            </div>
            <div class="grow-ans" style="--d:3.6s">
              <div class="leaf leaf--3"></div>
            </div>
          </div>
      
          <div class="long-g long-g--4">
            <div class="grow-ans" style="--d:4s">
              <div class="leaf leaf--0"></div>
            </div>
            <div class="grow-ans" style="--d:4.2s">
              <div class="leaf leaf--1"></div>
            </div>
            <div class="grow-ans" style="--d:3s">
              <div class="leaf leaf--2"></div>
            </div>
            <div class="grow-ans" style="--d:3.6s">
              <div class="leaf leaf--3"></div>
            </div>
          </div>
      
          <div class="long-g long-g--5">
            <div class="grow-ans" style="--d:4s">
              <div class="leaf leaf--0"></div>
            </div>
            <div class="grow-ans" style="--d:4.2s">
              <div class="leaf leaf--1"></div>
            </div>
            <div class="grow-ans" style="--d:3s">
              <div class="leaf leaf--2"></div>
            </div>
            <div class="grow-ans" style="--d:3.6s">
              <div class="leaf leaf--3"></div>
            </div>
          </div>
      
          <div class="long-g long-g--6">
            <div class="grow-ans" style="--d:4.2s">
              <div class="leaf leaf--0"></div>
            </div>
            <div class="grow-ans" style="--d:4.4s">
              <div class="leaf leaf--1"></div>
            </div>
            <div class="grow-ans" style="--d:4.6s">
              <div class="leaf leaf--2"></div>
            </div>
            <div class="grow-ans" style="--d:4.8s">
              <div class="leaf leaf--3"></div>
            </div>
          </div>
      
          <div class="long-g long-g--7">
            <div class="grow-ans" style="--d:3s">
              <div class="leaf leaf--0"></div>
            </div>
            <div class="grow-ans" style="--d:3.2s">
              <div class="leaf leaf--1"></div>
            </div>
            <div class="grow-ans" style="--d:3.5s">
              <div class="leaf leaf--2"></div>
            </div>
            <div class="grow-ans" style="--d:3.6s">
              <div class="leaf leaf--3"></div>
            </div>
          </div>
          <div class="flower flower--4">
            <div class="flower__leafs flower__leafs--4">
              <div class="flower__leaf flower__leaf--1"></div>
              <div class="flower__leaf flower__leaf--2"></div>
              <div class="flower__leaf flower__leaf--3"></div>
              <div class="flower__leaf flower__leaf--4"></div>
              <div class="flower__white-circle"></div>
      
              <div class="flower__light flower__light--1"></div>
              <div class="flower__light flower__light--2"></div>
              <div class="flower__light flower__light--3"></div>
              <div class="flower__light flower__light--4"></div>
              <div class="flower__light flower__light--5"></div>
              <div class="flower__light flower__light--6"></div>
              <div class="flower__light flower__light--7"></div>
              <div class="flower__light flower__light--8"></div>
      
            </div>
            <div class="flower__line">
              <div class="flower__line__leaf flower__line__leaf--1"></div>
              <div class="flower__line__leaf flower__line__leaf--2"></div>
              <div class="flower__line__leaf flower__line__leaf--3"></div>
              <div class="flower__line__leaf flower__line__leaf--4"></div>
            </div>
          </div>
        </div>

        <!-- small envelope button beside flowers -->
        <button id="envelopeBtn" class="envelope" aria-label="M·ªü th∆∞ ch√∫c m·ª´ng" aria-haspopup="dialog" title="Nh·∫•n ƒë·ªÉ m·ªü th∆∞">
          <span class="flap" aria-hidden="true"></span>
          <div class="paper" aria-hidden="true">
            <div class="stamp" aria-hidden="true">‚ù§</div>
            <div class="lines" aria-hidden="true">
              <div class="line"></div>
              <div class="line"></div>
              <div class="line"></div>
              <div class="line short"></div>
            </div>
          </div>
        </button>

        <!-- YouTube player ·∫©n + n√∫t nh·∫°c -->
        <div id="ytPlayer" aria-hidden="true"></div>
        <button id="musicBtn" class="music-btn" aria-pressed="false" title="B·∫≠t/t·∫Øt nh·∫°c">üîà</button>

        <script>
          // ---------- YouTube IFrame API (video n37A3r6fJuo) ----------
          let ytPlayer = null;
          function onYouTubeIframeAPIReady() {
            ytPlayer = new YT.Player('ytPlayer', {
              height: '0', width: '0',
              videoId: 'n37A3r6fJuo',
              playerVars: {
                autoplay: 1,
                controls: 0,
                loop: 1,
                playlist: 'n37A3r6fJuo',
                rel: 0,
                modestbranding: 1,
                iv_load_policy: 3,
                playsinline: 1
              },
              events: {
                onReady: (e) => {
                  try { e.target.mute(); e.target.playVideo(); } catch (err) { console.warn(err); }
                  updateMusicUI();
                },
                onStateChange: () => { updateMusicUI(); }
              }
            });
          }
          (function(){ const s=document.createElement('script'); s.src="https://www.youtube.com/iframe_api"; document.head.appendChild(s); })();
 
          const musicBtn = document.getElementById('musicBtn');
          function safe(fn){ try{ fn(); }catch{} }
          function isYTReady(){ return !!(window.YT && ytPlayer); }
          function isMuted(){ try { return isYTReady() ? ytPlayer.isMuted() : true; } catch { return true; } }
          function isPlaying(){ try { return isYTReady() ? ytPlayer.getPlayerState() === YT.PlayerState.PLAYING : false; } catch { return false; } }
          function updateMusicUI(){
            if(!musicBtn) return;
            const muted = isMuted();
            const playing = isPlaying() && !muted;
            musicBtn.setAttribute('aria-pressed', playing ? 'true' : 'false');
            musicBtn.textContent = muted ? 'üîà' : (playing ? '‚ñÆ‚ñÆ' : '‚ñ∂');
          }

          async function tryPlayUnmuted(){
            if(!isYTReady()) return;
            try{ ytPlayer.unMute(); ytPlayer.playVideo(); } catch (err) { console.warn('unmute/play failed:', err); }
            updateMusicUI();
          }
          function muteAndPause(){
            if(!isYTReady()) return;
            safe(()=> ytPlayer.mute());
            safe(()=> ytPlayer.pauseVideo());
            updateMusicUI();
          }

          musicBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            if(!isYTReady()) return;
            if (isMuted()) tryPlayUnmuted(); else muteAndPause();
          });

          // khi ng∆∞·ªùi d√πng m·ªü phong th∆∞ => coi l√† t∆∞∆°ng t√°c r√µ r√†ng -> c·ªë g·∫Øng b·ªè mute v√† ph√°t
          document.getElementById('envelopeBtn').addEventListener('click', (e) => {
            tryPlayUnmuted();
          });

          // c·∫≠p nh·∫≠t UI n·∫øu API s·∫µn s√†ng sau 1s
          setTimeout(updateMusicUI, 900);
          // -----------------------------------------------------------

            onload = () => {
                const c = setTimeout(() => {
                document.body.classList.remove("not-loaded");
                clearTimeout(c);
                }, 1000);
            };

            const greetingOverlay = document.getElementById('greetingOverlay');
            const greetingClose = document.getElementById('greetingClose');
            const envelopeBtn = document.getElementById('envelopeBtn');

            function showGreeting() {
              if (!greetingOverlay) return;
              if (greetingOverlay.classList.contains('active')) return;
              greetingOverlay.classList.add('active');
              document.body.style.overflow = 'hidden';
              greetingOverlay.setAttribute('aria-hidden', 'false');
            }

            function hideGreeting() {
              if (!greetingOverlay) return;
              greetingOverlay.classList.remove('active');
              document.body.style.overflow = '';
              greetingOverlay.setAttribute('aria-hidden', 'true');
              // ƒë√≥ng ch·ªØ th∆∞ animation state
              envelopeBtn.classList.remove('open');
            }

            // ƒê√≥ng khi b·∫•m n√∫t ƒê√≥ng
            greetingClose.addEventListener('click', (e) => {
              e.stopPropagation();
              hideGreeting();
            });

            // ƒê√≥ng khi ch·∫°m v√†o n·ªÅn overlay (ngo√†i h·ªôp)
            greetingOverlay.addEventListener('click', (e) => {
              if (e.target === greetingOverlay) {
                e.stopPropagation();
                hideGreeting();
              }
            });

            // === Hu·ª∑ b·ªè auto-show: kh√¥ng c√≤n timeout / document touch/click ƒë·ªÉ b·∫≠t l·ªùi ch√∫c ===
            // Thay b·∫±ng h√†nh vi: ch·ªâ m·ªü khi ng∆∞·ªùi d√πng b·∫•m/ch·∫°m v√†o bi·ªÉu t∆∞·ª£ng th∆∞ (envelope).
            envelopeBtn.addEventListener('click', (e) => {
              e.stopPropagation();
              // b·∫≠t tr·∫°ng th√°i "flap" cho c·∫£m gi√°c m·ªü
              envelopeBtn.classList.add('open');
              // m·ªü h·ªôp l·ªùi ch√∫c
              showGreeting();
              // focus v√†o h·ªôp ƒë·ªÉ truy c·∫≠p b·∫±ng b√†n ph√≠m
              greetingOverlay.querySelector('.greeting-box')?.focus?.();
            });

            // h·ªó tr·ª£ b√†n ph√≠m tr√™n n√∫t envelope
            envelopeBtn.addEventListener('keydown', (e) => {
              if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                envelopeBtn.click();
              }
            });

            // gi·ªØ logic rotate overlay (s·ª≠a ƒë·ªÉ landscape => g·ª£i √Ω fullscreen; portrait => g·ª£i √Ω xoay)
            (function(){
              const rotateOverlay = document.getElementById('rotateOverlay');
              const rotateDismissBtn = document.getElementById('rotateDismissBtn');
              const rotateFsBtn = document.getElementById('rotateFullscreenBtn');
              const titleEl = document.getElementById('rotateTitle');

              function showRotate() {
                if (!rotateOverlay) return;
                rotateOverlay.classList.add('active');
                rotateOverlay.setAttribute('aria-hidden','false');
              }
              function hideRotate() {
                if (!rotateOverlay) return;
                rotateOverlay.classList.remove('active');
                rotateOverlay.setAttribute('aria-hidden','true');
              }

              async function enterFullscreen() {
                const el = document.documentElement;
                const req = el.requestFullscreen || el.webkitRequestFullscreen || el.msRequestFullscreen;
                if (!req) return false;
                try { await req.call(el); return true; } catch (err) { console.warn('requestFullscreen failed', err); return false; }
              }

              // Hi·ªÉn th·ªã overlay v·ªõi n·ªôi dung kh√°c nhau t√πy orientation:
              //  - landscape (tr√™n thi·∫øt b·ªã nh·ªè): g·ª£i √Ω b·∫≠t fullscreen (hi·ªán n√∫t)
              //  - portrait (tr√™n thi·∫øt b·ªã nh·ªè): g·ª£i √Ω xoay ngang (·∫©n n√∫t fullscreen)
              function checkOrientation() {
                const mm = window.matchMedia;
                const isLandscape = mm && mm('(orientation: landscape)').matches;
                const isPortrait = mm && mm('(orientation: portrait)').matches;
                const isSmall = Math.max(window.innerWidth, window.innerHeight) <= 900; // ng∆∞·ª°ng device nh·ªè

                if (!isSmall) {
                  // desktop/tablet l·ªõn: ·∫©n overlay
                  hideRotate();
                  return;
                }

                if (isLandscape) {
                  // ƒëang ·ªü ngang -> ƒë·ªÅ xu·∫•t fullscreen (hi·ªán n√∫t)
                  if (titleEl) titleEl.textContent = 'B·∫°n ƒëang ·ªü ch·∫ø ƒë·ªô ngang ‚Äî mu·ªën v√†o ch·∫ø ƒë·ªô to√†n m√†n h√¨nh?';
                  if (rotateFsBtn) rotateFsBtn.style.display = '';
                  showRotate();
                } else if (isPortrait) {
                  // ƒëang ·ªü d·ªçc -> ƒë·ªÅ xu·∫•t xoay ngang (·∫©n n√∫t fullscreen)
                  if (titleEl) titleEl.textContent = 'Xoay ngang ƒë·ªÉ c√≥ tr·∫£i nghi·ªám t·ªët h∆°n';
                  if (rotateFsBtn) rotateFsBtn.style.display = 'none';
                  showRotate();
                } else {
                  hideRotate();
                }
              }

              window.addEventListener('orientationchange', checkOrientation, {passive:true});
              window.addEventListener('resize', checkOrientation, {passive:true});
              document.addEventListener('visibilitychange', checkOrientation);
              setTimeout(checkOrientation, 120);

              // n√∫t ƒê√≥ng
              rotateDismissBtn?.addEventListener('click', (e) => {
                e.stopPropagation();
                hideRotate();
              });

              // n√∫t B·∫≠t fullscreen (tu·ª≥ ch·ªçn) ‚Äî ch·ªâ c√≥ t√°c d·ª•ng khi hi·ªán n√∫t
              rotateFsBtn?.addEventListener('click', async (e) => {
                e.stopPropagation();
                await enterFullscreen();
                hideRotate();
              });

              // ƒë√≥ng b·∫±ng c√°ch ch·∫°m ngo√†i h·ªôp
              rotateOverlay?.addEventListener('click', (e) => {
                if (e.target === rotateOverlay) hideRotate();
              });
            })();
          </script>
        <div class="made-by" aria-hidden="true">made by Lang</div>
      </body>
</html>
